!function(a,b,c,d,e,f){function g(b,c){this.element=b,this.options=a.extend({},i,c),this._defaults=i,this._name=h,this.init()}var h="ReactiveGMap",i={mapOpts:{zoom:15,zoomControl:!0,panControl:!0}};g.prototype={markers:{},init:function(){b(this.getCoords()).map(function(a){return this.buildMap(a.lat,a.lng)}.bind(this)).apply(function(a){b("bounds_changed",a).debounce(500).map(this.getLocations.bind(this,a)).flatten().each(this.processLocation.bind(this,a))}.bind(this))},getCoords:function(){return function(a,c){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(c){a(null,{lat:c.coords.latitude,lng:c.coords.longitude}),a(null,b.nil)}.bind(this),function(){a(null,{lat:this.options.lat,lng:this.options.lng}),a(null,b.nil)}.bind(this)):(a(null,{lat:this.options.lat,lng:this.options.lng}),a(null,b.nil))}.bind(this)},buildMap:function(b,c){var d=a.extend({center:{lat:b,lng:c}},this.options.mapOpts),e=new google.maps.Map(this.element,d);return e.on=e.addListener,e},getLocations:function(c){var d=c.getBounds();return b(a.getJSON("http://visitsouthjersey.com/wp-json/vsj/map-locations",{top:d.getNorthEast().G,right:d.getNorthEast().K,bottom:d.getSouthWest().G,left:d.getSouthWest().K}))},processLocation:function(a,b){var c=a.getBounds();if(!this.markers[b.id]&&c.contains(new google.maps.LatLng(b.lat,b.lng))){var d=this.placeMarker(b,a),e=this.attachInfoWindow(d,b,a);this.markers[b.id]={marker:d,infoPane:e}}else this.markers[b.id]&&!c.contains(new google.maps.LatLng(b.lat,b.lng))&&this.removeMarker(b)},placeMarker:function(a,b){var c=new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lng),icon:a.icon});return c.setMap(b),c},attachInfoWindow:function(a,b,c){var d=new google.maps.InfoWindow({content:b.content});return a.addListener("click",function(){d.open(c,a)}),d},removeMarker:function(a){this.markers[a.id].marker.setMap(null),delete this.markers[a.id]}},a.fn[h]=function(b){return this.each(function(){a.data(this,"plugin_"+h)||a.data(this,"plugin_"+h,new g(this,b))})}}(jQuery,highland,_,window,document);
//# sourceMappingURL=app.min.js.map